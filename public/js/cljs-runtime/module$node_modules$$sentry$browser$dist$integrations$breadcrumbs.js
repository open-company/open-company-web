shadow$provide.module$node_modules$$sentry$browser$dist$integrations$breadcrumbs=function(global$jscomp$0,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("module$node_modules$tslib$tslib"),core_1=require("module$node_modules$$sentry$core$dist$index"),types_1=require("module$node_modules$$sentry$types$dist$index"),utils_1=require("module$node_modules$$sentry$utils$dist$index");global$jscomp$0=function(){function Breadcrumbs(options){this.name=Breadcrumbs.id;
this._options=tslib_1.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},options)}Breadcrumbs.prototype.addSentryBreadcrumb=function(event){this._options.sentry&&core_1.getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===event.type?"transaction":"event"),event_id:event.event_id,level:event.level,message:utils_1.getEventDescription(event)},{event:event})};Breadcrumbs.prototype.setupOnce=function(){var _this=this;this._options.console&&utils_1.addInstrumentationHandler({callback:function(){for(var args=
[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._consoleBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"console"});this._options.dom&&utils_1.addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._domBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"dom"});this._options.xhr&&utils_1.addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._xhrBreadcrumb.apply(_this,
tslib_1.__spread(args))},type:"xhr"});this._options.fetch&&utils_1.addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._fetchBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"fetch"});this._options.history&&utils_1.addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._historyBreadcrumb.apply(_this,tslib_1.__spread(args))},type:"history"})};Breadcrumbs.prototype._consoleBreadcrumb=
function(handlerData){var breadcrumb={category:"console",data:{arguments:handlerData.args,logger:"console"},level:types_1.Severity.fromString(handlerData.level),message:utils_1.safeJoin(handlerData.args," ")};if("assert"===handlerData.level)if(!1===handlerData.args[0])breadcrumb.message="Assertion failed: "+(utils_1.safeJoin(handlerData.args.slice(1)," ")||"console.assert"),breadcrumb.data.arguments=handlerData.args.slice(1);else return;core_1.getCurrentHub().addBreadcrumb(breadcrumb,{input:handlerData.args,
level:handlerData.level})};Breadcrumbs.prototype._domBreadcrumb=function(handlerData){try{var target=handlerData.event.target?utils_1.htmlTreeAsString(handlerData.event.target):utils_1.htmlTreeAsString(handlerData.event)}catch(e){target="\x3cunknown\x3e"}0!==target.length&&core_1.getCurrentHub().addBreadcrumb({category:"ui."+handlerData.name,message:target},{event:handlerData.event,name:handlerData.name})};Breadcrumbs.prototype._xhrBreadcrumb=function(handlerData){handlerData.endTimestamp&&!handlerData.xhr.__sentry_own_request__&&
core_1.getCurrentHub().addBreadcrumb({category:"xhr",data:handlerData.xhr.__sentry_xhr__,type:"http"},{xhr:handlerData.xhr})};Breadcrumbs.prototype._fetchBreadcrumb=function(handlerData){handlerData.endTimestamp&&(handlerData.fetchData.url.match(/sentry_key/)&&"POST"===handlerData.fetchData.method||(handlerData.error?core_1.getCurrentHub().addBreadcrumb({category:"fetch",data:handlerData.fetchData,level:types_1.Severity.Error,type:"http"},{data:handlerData.error,input:handlerData.args}):core_1.getCurrentHub().addBreadcrumb({category:"fetch",
data:tslib_1.__assign(tslib_1.__assign({},handlerData.fetchData),{status_code:handlerData.response.status}),type:"http"},{input:handlerData.args,response:handlerData.response})))};Breadcrumbs.prototype._historyBreadcrumb=function(handlerData){var global=utils_1.getGlobalObject(),from=handlerData.from;handlerData=handlerData.to;global=utils_1.parseUrl(global.location.href);var parsedFrom=utils_1.parseUrl(from),parsedTo=utils_1.parseUrl(handlerData);parsedFrom.path||(parsedFrom=global);global.protocol===
parsedTo.protocol&&global.host===parsedTo.host&&(handlerData=parsedTo.relative);global.protocol===parsedFrom.protocol&&global.host===parsedFrom.host&&(from=parsedFrom.relative);core_1.getCurrentHub().addBreadcrumb({category:"navigation",data:{from:from,to:handlerData}})};Breadcrumbs.id="Breadcrumbs";return Breadcrumbs}();exports.Breadcrumbs=global$jscomp$0}
//# sourceMappingURL=module$node_modules$$sentry$browser$dist$integrations$breadcrumbs.js.map
