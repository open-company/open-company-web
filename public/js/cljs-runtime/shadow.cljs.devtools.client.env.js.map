{"version":3,"sources":["shadow/cljs/devtools/client/env.cljs"],"mappings":"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","names":["js/shadow","js/shadow.cljs","js/shadow.cljs.devtools","js/shadow.cljs.devtools.client","js/shadow.cljs.devtools.client.env","js/shadow.cljs.devtools.client.env.active-modules-ref","shadow.cljs.devtools.client.env/active-modules-ref","cljs.core/volatile!","shadow.cljs.devtools.client.env/module-loaded","name","cljs.core.conj","cljs.core.keyword","shadow.cljs.devtools.client.env/module-is-active?","module","cljs.core/deref","cljs.core/contains?","js/shadow.cljs.devtools.client.env.runtime-id","shadow.cljs.devtools.client.env/runtime-id","cljs.core/random-uuid","js/goog.define","shadow.cljs.devtools.client.env/enabled","shadow.cljs.devtools.client.env/autoload","shadow.cljs.devtools.client.env/module-format","shadow.cljs.devtools.client.env/reload-with-state","shadow.cljs.devtools.client.env/build-id","shadow.cljs.devtools.client.env/proc-id","shadow.cljs.devtools.client.env/worker-client-id","shadow.cljs.devtools.client.env/server-host","shadow.cljs.devtools.client.env/server-port","shadow.cljs.devtools.client.env/repl-pprint","shadow.cljs.devtools.client.env/use-document-host","shadow.cljs.devtools.client.env/use-document-protocol","shadow.cljs.devtools.client.env/devtools-url","shadow.cljs.devtools.client.env/reload-strategy","shadow.cljs.devtools.client.env/server-token","shadow.cljs.devtools.client.env/ssl","shadow.cljs.devtools.client.env/ignore-warnings","shadow.cljs.devtools.client.env/log-style","shadow.cljs.devtools.client.env/custom-notify-fn","shadow.cljs.devtools.client.env/devtools-info","shadow.cljs.devtools.client.env/get-server-protocol","and__4115__auto__","js/goog.global.location","cljs.core/seq","js/goog.global.location.protocol","clojure.string/replace","shadow.cljs.devtools.client.env/get-server-host","js/goog.global.location.hostname","shadow.cljs.devtools.client.env/get-url-base","shadow.cljs.devtools.client.env/get-ws-url-base","shadow.cljs.devtools.client.env/get-ws-relay-url","js/shadow.cljs.devtools.client.env.reset-print-fn-ref","shadow.cljs.devtools.client.env/reset-print-fn-ref","cljs.core.atom","js/shadow.cljs.devtools.client.env.was-print-newline","shadow.cljs.devtools.client.env/was-print-newline","cljs.core/*print-newline*","shadow.cljs.devtools.client.env/set-print-fns!","msg-fn","original-print-fn","cljs.core/*print-fn*","original-print-err-fn","cljs.core/*print-err-fn*","js/cljs.core.enable-console-print!","cljs.core/reset!","cljs.core/set-print-fn!","cljs.core/set-print-err-fn!","s","cljs.core.not_EQ_","shadow.cljs.devtools.client.env/reset-print-fns!","temp__5735__auto__","x","shadow.cljs.devtools.client.env/patch-goog!","cljs.core._EQ_","js/goog.provide","js/goog.constructNamespace_","js/goog.isProvided_","cljs.core/constantly","p__30867","map__30868","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","shadow.cljs.devtools.client.env/add-warnings-to-info","info","msg","warnings","iter__4529__auto__","s__30879","cljs.core/LazySeq","xs__6292__auto__","map__30893","cljs.core/first","iterys__4525__auto__","s__30881","cljs.core/chunked-seq?","c__4527__auto__","size__4528__auto__","cljs.core/count","b__30883","cljs.core/chunk-buffer","i__30882","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__30880","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","fs__4526__auto__","cljs.core.concat","iter__30878","resource-name","src","cljs.core/not","warning","cljs.core.assoc","cljs.core.distinct","cljs.core.into","cljs.core/assoc-in","shadow.cljs.devtools.client.env/custom-notify-types","shadow.cljs.devtools.client.env/run-custom-notify!","fn","js/goog.getObjectByName","js/$CLJS","cljs.core/fn?","js/console.warn","e30902","e","js/console.error","p__30905","p__30906","map__30909","map__30910","shadow.cljs.devtools.client.env/make-task-fn","log-missing-fn","log-call-async","log-call","fn-sym","fn-str","async","next","e30914","fn-obj","ex","p__30916","vec__30917","seq__30918","first__30919","cljs.core/next","shadow.cljs.devtools.client.env/do-js-reload*","failure-fn","task","remaining-tasks","e30921","G__30922","var_args","G__30926","shadow.cljs.devtools.client.env/do-js-reload","js/Error","p__30931","map__30933","load-code-fn","shadow.cljs.devtools.client.env.do_js_reload","complete-fn","error","remaining","reload-info","load-tasks","p1__30923#","cljs.core.map","cljs.core/reverse","p1__30924#","p__30939","map__30944","shadow.cljs.devtools.client.env/before-load-src","type","ns","seq__30946","chunk__30947","count__30948","i__30949","c__4556__auto__","cljs.core/chunk-first","js/goog.global.SHADOW_NS_RESET","shadow.cljs.devtools.client.env/goog-is-loaded?","js/$CLJS.SHADOW_ENV.isLoaded","shadow.cljs.devtools.client.env/goog-base-rc","p__30952","map__30953","shadow.cljs.devtools.client.env/src-is-loaded?","resource-id","output-name","or__4126__auto__","shadow.cljs.devtools.client.env/prefilter-sources","sources","cljs.core.filter","p__30958","map__30959","rc","cljs.core.remove","p__30955","map__30956","p__30961","map__30962","shadow.cljs.devtools.client.env/filter-sources-to-get-optimized","compiled","p__30969","map__30970","p__30984","map__30985","shadow.cljs.devtools.client.env/filter-sources-to-get-full","G__30992","vec__30993","seq__30994","first__30995","vec__31001","seq__31002","first__31003","affected","sources-to-get","more","map__31004","deps","provides","should-reload?","cljs.core/some","clojure.set.union","shadow.cljs.devtools.client.env/filter-reload-sources"],"sourcesContent":["(ns shadow.cljs.devtools.client.env\n  (:require\n    [goog.object :as gobj]\n    [clojure.string :as str]\n    [cljs.tools.reader :as reader]\n    [cljs.pprint :refer (pprint)]\n    [clojure.set :as set]))\n\n(defonce active-modules-ref\n  (volatile! #{}))\n\n(defn module-loaded [name]\n  (vswap! active-modules-ref conj (keyword name)))\n\n(defn module-is-active? [module]\n  (contains? @active-modules-ref module))\n\n;; FIXME: make this persistent somehow?\n(defonce runtime-id (str (random-uuid)))\n\n(goog-define enabled false)\n\n(goog-define autoload true)\n\n(goog-define module-format \"goog\")\n\n(goog-define reload-with-state false)\n\n(goog-define build-id \"\")\n\n(goog-define proc-id \"\")\n\n(goog-define worker-client-id 0)\n\n(goog-define server-host \"\")\n\n(goog-define server-port 8200)\n\n(goog-define repl-pprint false)\n\n(goog-define use-document-host true)\n\n(goog-define use-document-protocol false)\n\n(goog-define devtools-url \"\")\n\n(goog-define reload-strategy \"optimized\")\n\n(goog-define server-token \"missing\")\n\n(goog-define ssl false)\n\n(goog-define ignore-warnings false)\n\n(goog-define log-style \"font-weight: bold;\")\n\n(goog-define custom-notify-fn \"\")\n\n(defn devtools-info []\n  #js {:server_port server-port\n       :server_host server-host\n       :build_id build-id\n       :proc_id proc-id\n       :runtime_id runtime-id\n       :ssl ssl})\n\n(defn get-server-protocol []\n  (if (and use-document-protocol\n           js/goog.global.location\n           (seq js/goog.global.location.protocol))\n    (str/replace js/goog.global.location.protocol \":\" \"\")\n    (str \"http\" (when ssl \"s\"))))\n\n(defn get-server-host []\n  (cond\n    (and use-document-host\n         js/goog.global.location\n         (seq js/goog.global.location.hostname))\n    js/goog.global.location.hostname\n\n    (seq server-host)\n    server-host\n\n    :else\n    \"localhost\"))\n\n(defn get-url-base []\n  (if (seq devtools-url)\n    devtools-url\n    (str (get-server-protocol) \"://\" (get-server-host) \":\" server-port)))\n\n(defn get-ws-url-base []\n  (-> (get-url-base)\n      (str/replace #\"^http\" \"ws\")))\n\n(defn get-ws-relay-url []\n  (str (get-ws-url-base) \"/api/remote-relay?server-token=\" server-token))\n\n;; FIXME: this need to become idempotent somehow\n;; but is something sets a print-fn we can't tell if that\n;; will actually call ours. only a problem if the websocket is\n;; reconnected though\n(defonce reset-print-fn-ref (atom nil))\n(defonce was-print-newline *print-newline*)\n\n(defn set-print-fns! [msg-fn]\n  ;; cannot capture these before as they may change in between loading this file\n  ;; and running the websocket connect. the user code is loaded after this file\n  (let [original-print-fn cljs.core/*print-fn*\n        original-print-err-fn cljs.core/*print-err-fn*]\n\n    (set! *print-newline* true)\n\n    ;; just prevent user code calling it, shadow-cljs setup code already did\n    (set! js/cljs.core.enable-console-print! (fn []))\n\n    (reset! reset-print-fn-ref\n      (fn reset-print-fns! []\n        (set! *print-newline* was-print-newline)\n        (set-print-fn! original-print-fn)\n        (set-print-err-fn! original-print-err-fn)))\n\n    (set-print-fn!\n      (fn repl-print-fn [s]\n        (msg-fn :stdout s)\n        (when (and original-print-fn (not= s \"\\n\"))\n          (original-print-fn s))))\n\n    (set-print-err-fn!\n      (fn repl-print-err-fn [s]\n        (msg-fn :stderr s)\n        (when (and original-print-err-fn (not= s \"\\n\"))\n          (original-print-err-fn s))))))\n\n(defn reset-print-fns! []\n  (when-let [x @reset-print-fn-ref]\n    (x)\n    (reset! reset-print-fn-ref nil)))\n\n(defn patch-goog! []\n  (when (= \"goog\" module-format)\n    ;; patch away the already declared exception\n    (set! js/goog.provide js/goog.constructNamespace_)\n    ;; goog.module calls this directly\n    (set! js/goog.isProvided_ (constantly false))))\n\n(defn add-warnings-to-info [{:keys [info] :as msg}]\n  (let [warnings\n        (->> (for [{:keys [resource-name warnings] :as src} (:sources info)\n                   :when (not (:from-jar src))\n                   warning warnings]\n               (assoc warning :resource-name resource-name))\n             (distinct)\n             (into []))]\n    (assoc-in msg [:info :warnings] warnings)))\n\n(def custom-notify-types\n  #{:build-complete\n    :build-failure\n    :build-init\n    :build-start})\n\n(defn run-custom-notify! [msg]\n  ;; look up every time it case it gets reloaded\n  (when (seq custom-notify-fn)\n    (let [fn (js/goog.getObjectByName custom-notify-fn js/$CLJS)]\n      (if-not (fn? fn)\n        (js/console.warn \"couldn't find custom :build-notify\" custom-notify-fn)\n        (try\n          (fn msg)\n          (catch :default e\n            (js/console.error \"Failed to run custom :build-notify\" custom-notify-fn)\n            (js/console.error e)))))))\n\n(defn make-task-fn [{:keys [log-missing-fn log-call-async log-call]} {:keys [fn-sym fn-str async]}]\n  (fn [next]\n    (try\n      (let [fn-obj (js/goog.getObjectByName fn-str js/$CLJS)]\n        (cond\n          (nil? fn-obj)\n          (do (when log-missing-fn\n                (log-missing-fn fn-sym))\n              (next))\n\n          async\n          (do (when log-call-async\n                (log-call-async fn-sym))\n              (fn-obj next))\n\n          :else\n          (do (when log-call\n                (log-call fn-sym))\n              (fn-obj)\n              (next))))\n      (catch :default ex\n        (js/console.warn \"error when calling lifecycle function\" (str fn-sym) ex)\n        (next)))))\n\n(defn do-js-reload* [failure-fn [task & remaining-tasks]]\n  (when task\n    (try\n      (task #(do-js-reload* failure-fn remaining-tasks))\n      (catch :default e\n        (failure-fn e task remaining-tasks)))))\n\n(defn do-js-reload\n  \"should pass the :build-complete message and an additional callback\n   which performs the actual loading of the code (sync)\n   will call all before/after callbacks in order\"\n  ([msg load-code-fn]\n   (do-js-reload\n     msg\n     load-code-fn\n     (fn [])))\n  ([msg load-code-fn complete-fn]\n   (do-js-reload\n     msg\n     load-code-fn\n     complete-fn\n     (fn [error task remaining]\n       (js/console.warn \"JS reload failed\" error))))\n  ([{:keys [reload-info] :as msg} load-code-fn complete-fn failure-fn]\n   (let [load-tasks\n         (-> []\n             ;; unload is FILO\n             (into (->> (:before-load reload-info)\n                        (map #(make-task-fn msg %))\n                        (reverse)))\n             (conj (fn [next]\n                     (load-code-fn)\n                     (next)))\n             ;; load is FIFO\n             (into (map #(make-task-fn msg %)) (:after-load reload-info))\n             (conj (fn [next]\n                     (complete-fn)\n                     (next))))]\n\n     (do-js-reload* failure-fn load-tasks))))\n\n(defn before-load-src [{:keys [type ns] :as src}]\n  (when (= :cljs type)\n    (doseq [x js/goog.global.SHADOW_NS_RESET]\n      (x ns))))\n\n(defn goog-is-loaded? [name]\n  (js/$CLJS.SHADOW_ENV.isLoaded name))\n\n(def goog-base-rc\n  [:shadow.build.classpath/resource \"goog/base.js\"])\n\n(defn src-is-loaded? [{:keys [resource-id output-name] :as src}]\n  ;; FIXME: don't like this special case handling, but goog/base.js will always be loaded\n  ;; but not as a separate file\n  (or (= goog-base-rc resource-id)\n      (goog-is-loaded? output-name)))\n\n(defn prefilter-sources [reload-info sources]\n  (->> sources\n       (filter\n         (fn [{:keys [module] :as rc}]\n           (or (= \"js\" module-format)\n               (module-is-active? module))))\n       ;; don't reload namespaces that have ^:dev/never-reload meta\n       (remove (fn [{:keys [ns]}]\n                 (contains? (:never-load reload-info) ns)))))\n\n(defn filter-sources-to-get-optimized [{:keys [sources compiled] :as info} reload-info]\n  (->> sources\n       (prefilter-sources reload-info)\n       (filter\n         (fn [{:keys [ns resource-id] :as src}]\n           (or (contains? (:always-load reload-info) ns)\n               (not (src-is-loaded? src))\n               (and (contains? compiled resource-id)\n                    ;; never reload files from jar\n                    ;; they can't be hot-swapped so the only way they get re-compiled\n                    ;; is if they have warnings, which we can't to anything about\n                    (not (:from-jar src))))))\n       (into [])))\n\n(defn filter-sources-to-get-full [{:keys [sources compiled] :as info} reload-info]\n  (loop [affected #{}\n         sources-to-get []\n         [src & more] (prefilter-sources reload-info sources)]\n\n    (if-not src\n      sources-to-get\n      (let [{:keys [ns resource-id deps provides]}\n            src\n\n            should-reload?\n            (or (contains? (:always-load reload-info) ns)\n                ;; always load sources that haven't been loaded yet\n                ;; this fixes issues where a namespace is added to a build that has\n                ;; dependencies that haven't been loaded yet but were compiled before\n                (not (src-is-loaded? src))\n                (and (or (contains? compiled resource-id)\n                         (some affected deps))\n                     ;; never reload files from jar\n                     ;; they can't be hot-swapped so the only way they get re-compiled\n                     ;; is if they have warnings, which we can't to anything about\n                     (not (:from-jar src))))]\n\n        (if-not should-reload?\n          (recur affected sources-to-get more)\n          (recur\n            (set/union affected provides)\n            (conj sources-to-get src)\n            more))))))\n\n(defn filter-reload-sources [info reload-info]\n  (if (= \"full\" reload-strategy)\n    (filter-sources-to-get-full info reload-info)\n    (filter-sources-to-get-optimized info reload-info)))\n"]}